<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Panamá Trabaja - Ofertas de Trabajo</title>

    <!-- Manifest for PWA -->
    <link rel="manifest" href="/manifest.json">

    <!-- Service Worker -->
    <script>
        if ('serviceWorker' in navigator) {
            navigator.serviceWorker.register('/service-worker.js')
            .then(() => {
                console.log('Service Worker Registered');
            });
        }
    </script>

    <!-- Google Tag Manager -->
    <script>
        (function(w,d,s,l,i){
            w[l]=w[l]||[];
            w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});
            var f=d.getElementsByTagName(s)[0],
            j=d.createElement(s),
            dl=l!='dataLayer'?'&l='+l:'';
            j.async=true;
            j.src='https://www.googletagmanager.com/gtm.js?id='+i+dl;
            f.parentNode.insertBefore(j,f);
        })(window,document,'script','dataLayer','GTM-K9JZ8C9N');
    </script>
    <!-- End Google Tag Manager -->

    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-MZ5KZ92E8R"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-MZ5KZ92E8R');
    </script>

    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 20px;
            background-color: #f4f4f4;
            text-align: center;
            overflow-x: hidden;
        }
        h1 {
            color: #0044cc;
        }
        .search-container {
            display: flex;
            justify-content: center;
            margin-bottom: 20px;
        }
        .search-bar {
            padding: 10px;
            border: 1px solid #ccc;
            border-radius: 5px;
            width: 100%;
            max-width: 400px;
        }
        .job {
            background-color: #fff;
            padding: 15px;
            margin: 15px auto;
            border-radius: 5px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
            width: 95%;
            max-width: 600px;
            text-align: left;
        }
        .job h2 {
            color: #d32f2f;
        }
        .job p {
            color: #333;
        }
        .pagination {
            margin: 20px 0;
        }
        .pagination button {
            margin: 0 5px;
            padding: 10px 15px;
            border: none;
            border-radius: 5px;
            background-color: #0044cc;
            color: white;
            cursor: pointer;
        }
        .pagination button.disabled {
            background-color: #ccc;
            cursor: not-allowed;
        }

        /* Responsive design */
        @media (max-width: 600px) {
            body {
                padding: 10px;
            }
            .job {
                width: 100%;
                max-width: 100%;
            }
            .search-bar {
                max-width: 100%;
            }
        }
    </style>
</head>
<body>
    <!-- Google Tag Manager (noscript) -->
    <noscript>
        <iframe src="https://www.googletagmanager.com/ns.html?id=GTM-K9JZ8C9N"
        height="0" width="0" style="display:none;visibility:hidden"></iframe>
    </noscript>
    <!-- End Google Tag Manager (noscript) -->

    <h1>VACANTES DE HOY</h1>
    <div class="search-container">
        <input type="text" class="search-bar" id="searchBar" placeholder="Buscar empleos...">
    </div>
    <!-- Aquí se mostrarán los trabajos -->
    <div id="jobsContainer"></div>

    <!-- Paginación -->
    <div class="pagination">
        <button id="prevButton" class="disabled" disabled>Anterior</button>
        <button id="nextButton">Siguiente</button>
    </div>

    <script>
        const jobs = [
            { title: "Ayudante General", company: "Mini Super", province: "Panamá, El Chorrillo", contact: '<a href="https://api.whatsapp.com/send/?phone=50760725707" style="color: blue;">Enviar WhatsApp</a>', description: "Acomodar mercancía y atender cliente", date: new Date(2024, 9, 19) },
            { title: "Diseño Gráfico", company: "Impresiones Lopez", province: "Panamá, El Ingenio", contact: '<a href="https://api.whatsapp.com/send/?phone=50764354496" target="_blank" style="color: blue;">Enviar mensaje por WhatsApp</a>', description: "Se solicita persona con estudios Diseño Gráfico, Arquitectura o carreras similares con dominio de programas, Adobe Illustrator, Photoshop y programas CAD.", date: new Date(2024, 9, 19) },
            { title: "Responsable de Bodega", company: "", province: "Panamá", contact: '<a href="mailto:mhreclutamiento.hdv@gmail.com" style="color: blue;">Enviar correo</a>', description: "Descarga de contenedores, gestionar las entregas a clientes, completar el armado de muebles y accesorios, coordinar al personal de bodega inventario físico en bodega reparaciones menores en mobiliario, licencia tipo D", date: new Date(2024, 9, 19) },
            { title: "EMPLEADA DOMÉSTICA INTERNA", company: "", province: "Panamá", contact: '<a href="https://api.whatsapp.com/send/?phone=50766730556" target="_blank" style="color: blue;">Enviar mensaje por WhatsApp</a>', description: "EXPERTA EN COCINADETALLISTA EN LIMPIEZA Y ORGANIZACIÓN DEL HOGARDEBE TENER REFERENCIAS", date: new Date(2024, 9, 19) },
            { title: "Salonera", company: "Coyote Bar", province: "Panamá", contact: '<a href="https://api.whatsapp.com/send/?phone=50769625948" target="_blank" style="color: blue;">Enviar mensaje por WhatsApp</a>', description: "Atención al cliente Atender mesad salario comisión y propina Solo escribo Al WhatsApp", date: new Date(2024, 9, 19) },
            { title: "Mercaderista", company: "Confidencial", province: "Panamá", contact:'<a href="mailto:rreclutamientopty@gmail.com" style="color: blue;">Enviar correo</a>', description: "Experiencia previa en consumo masivo, bachiller completo, carnets de salud vigentes, residir en Panamá Centro, poseer auto o moto", date: new Date(2024, 9, 19) },
            { title: "Ayudante General", company: "Confidencial", province: "Panamá", contact:'<a href="mailto:rreclutamientopty@gmail.com" style="color: blue;">Enviar correo</a>', description: "Experiencia en planta de producción, Bachiller completo, Carnets de salud vigentes, Residir en Panamá Centro", date: new Date(2024, 9, 19) },
            { title: "LAVADOR DE AUTOS", company: "", province: "Panamá, Coco del Mar", contact: '<a href="https://api.whatsapp.com/send/?phone=50764743675" target="_blank" style="color: blue;">Enviar mensaje por WhatsApp</a>', description: "PARA LAVAR AUTOS Y LIMPIAR TAPICERIA AUTOMOTRIZ - DETAILING: EXCELENTE SALARIO, BUENA ESTABILIDAD LABORAL, TODOS SUS BENEFICIOS.", date: new Date(2024, 9, 19) },
            { title: "Surtidor de Almacén", company: "El Campeón", province: "Panamá", contact: '<a href="https://solicitudempleo.grupotova.com/" target="_blank" style="color: blue;">Aplica Aquí</a>', description: "El Campeón", date: new Date(2024, 9, 18) },
            { title: "Ayudante de cocina", company: "", province: "Panamá, Brisas del Golf", contact: '<a href="https://api.whatsapp.com/send/?phone=50762537517" target="_blank" style="color: blue;">Enviar mensaje por WhatsApp</a>', description: "Se solicita ayudante de cocina con disponibilidad inmediata, honesto y responsable", date: new Date(2024, 9, 18) },
            { title: "Ayudante General", company: "Varela Hermanos", province: "Panamá", contact: '<a href="mailto:mgonzalez@varelahermanos.com" target="_blank" style="color: blue;">Enviar correo</a>', description: "Acomodar mercancía y atender cliente", date: new Date(2024, 9, 18) }
        ];

        let currentPage = 1;
        const jobsPerPage = 5;

        function displayJobs() {
            const jobsContainer = document.getElementById('jobsContainer');
            jobsContainer.innerHTML = ''; // Limpiar contenedor

            // Calcular los índices de los trabajos a mostrar
            const startIndex = (currentPage - 1) * jobsPerPage;
            const endIndex = Math.min(startIndex + jobsPerPage, jobs.length);

            // Mostrar los trabajos de la página actual
            for (let i = startIndex; i < endIndex; i++) {
                const job = jobs[i];
                const jobElement = document.createElement('div');
                jobElement.classList.add('job');
                jobElement.innerHTML = `
                    <h2>${job.title}</h2>
                    <p><strong>Empresa:</strong> ${job.company || 'No especificada'}</p>
                    <p><strong>Provincia:</strong> ${job.province}</p>
                    <p><strong>Contacto:</strong> ${job.contact}</p>
                    <p><strong>Descripción:</strong> ${job.description}</p>
                    <p><strong>Fecha:</strong> ${job.date.toLocaleDateString()}</p>
                `;
                jobsContainer.appendChild(jobElement);
            }

            // Actualizar estado de botones de paginación
            document.getElementById('prevButton').disabled = currentPage === 1;
            document.getElementById('nextButton').disabled = endIndex >= jobs.length;
            document.getElementById('prevButton').classList.toggle('disabled', currentPage === 1);
            document.getElementById('nextButton').classList.toggle('disabled', endIndex >= jobs.length);
        }

        // Manejo de eventos de paginación
        document.getElementById('prevButton').addEventListener('click', () => {
            if (currentPage > 1) {
                currentPage--;
                displayJobs();
            }
        });

        document.getElementById('nextButton').addEventListener('click', () => {
            if (currentPage * jobsPerPage < jobs.length) {
                currentPage++;
                displayJobs();
            }
        });

        // Función para filtrar trabajos
        document.getElementById('searchBar').addEventListener('input', function() {
            const query = this.value.toLowerCase();
            const filteredJobs = jobs.filter(job => 
                job.title.toLowerCase().includes(query) || 
                job.company.toLowerCase().includes(query) ||
                job.description.toLowerCase().includes(query)
            );

            // Actualizar la lista de trabajos a mostrar
            currentPage = 1; // Reiniciar la página actual
            jobs.length = 0; // Limpiar la lista original
            jobs.push(...filteredJobs); // Agregar trabajos filtrados

            displayJobs();
        });

        // Mostrar trabajos al cargar
        displayJobs();
    </script>
</body>
</html>
